<h2>Validaciones reactivas</h2>
<br />

<div class="row">
  <div class="col">
    <form action="" [formGroup]="registerForm" (submit)="register()">
      <!-- Nombre -->
      <div class="row mb-3">
        <label for="nombre" class="col-sm-3 col-form-label">Nombre</label>
        <div class="col-sm-9">
          <input
            type="text"
            class="form-control"
            id="name"
            formControlName="name"
            placeholder="Nombre"
          />
          <span class="form-text text-danger" *ngIf="fieldNovalide('name')">
            Debe ser en formato nombre y apellido
          </span>
        </div>
      </div>

      <!-- email -->
      <div class="row mb-3">
        <label for="nombre" class="col-sm-3 col-form-label">Email</label>
        <div class="col-sm-9">
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
            placeholder="Email del usuario"
          />
          <span class="form-text text-danger" *ngIf="fieldNovalide('email')">
            {{ emailErrorMsg }}
          </span>
        </div>
      </div>

      <!-- Username -->
      <div class="row mb-3">
        <label for="nombre" class="col-sm-3 col-form-label">User name</label>
        <div class="col-sm-9">
          <input
            type="text"
            class="form-control"
            id="username"
            formControlName="username"
            placeholder="Nombre codigo del usuario"
          />
          <span class="form-text text-danger" *ngIf="fieldNovalide('username')">
            EL username es requerido y no puede ser stringer
          </span>
        </div>
      </div>

      <!-- Password -->
      <div class="row mb-3">
        <label for="nombre" class="col-sm-3 col-form-label">Password</label>
        <div class="col-sm-9">
          <input
            type="password"
            class="form-control"
            id="password"
            formControlName="password"
            placeholder="Password del usuario"
          />
          <span class="form-text text-danger" *ngIf="fieldNovalide('password')">
            El password es requerido y debe ser mayor a 6 caracteres
          </span>
        </div>
      </div>

      <!-- Password 2-->
      <div class="row mb-3">
        <label for="nombre" class="col-sm-3 col-form-label"
          >Confirmar password</label
        >
        <div class="col-sm-9">
          <input
            type="password"
            class="form-control"
            id="password2"
            formControlName="password2"
            placeholder="Confirmar password del usuario"
          />
          <span
            class="form-text text-danger"
            *ngIf="fieldNovalide('password2')"
          >
            Debe ser igual al password
          </span>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <button
            [disabled]="!registerForm.pending"
            type="submit"
            class="btn btn-primary float-end"
          >
            Registrar
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<h2>Pending</h2>
{{ registerForm.pending }}

<h2>Form valid</h2>
<pre>{{ registerForm.valid }}</pre>
<br />

<h2>Form value</h2>
<pre>{{ registerForm.value | json }}</pre>

<br />
<h2>Form errors</h2>

<pre>
  {{ registerForm.controls.name.errors | json }}
</pre>

<pre>
  {{ registerForm.controls.email.errors | json }}
</pre>

<pre>
  {{ registerForm.controls.username.errors | json }}
</pre>
